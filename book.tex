\documentclass[
    b5paper,
    pagesize,
    10pt,
    bibtotoc,
    normalheadings,
    twoside,
    openany,
    chapterprefix,
    DIV=9
]{scrbook}

%=============== Preamble ================
\input{preamble.tex}

%=========== Global Variables ============
\newcommand{\editionnumber}{1\textsuperscript{st}}
\newcommand{\buildnumber}{23}

%==== Include only relevant chapters =====
\IfFileExists{\jobname.run.xml}
{
    \includeonly{
        % front-matter,
        % %
        % % Part 0
        % part0/preamble,
        % part0/sets,
        % part0/logic,
        % part0/proofs,
        % part0/algebra,
        % part0/functions,
        % part0/number-theory,
        % part0/modular-arithmetic,
        % %
        % % Part 1
        % part1/preamble,
        % part1/intro-to-groups,
        % part1/basics-of-groups,
        % part1/subgroups,
        % part1/homomorphisms-and-isomorphisms,
        % part1/symmetry-groups,
        % part1/products,
        % part1/further-homomorphisms,
        % part1/more-groups,
        % part1/group-actions,
        % part1/sylow-theorems,
        % part1/composition-series,
        % part1/simple-groups,
        % %
        % % Part 2
        % part2/preamble,
        % part2/intro-to-rings,
        % part2/basics-of-rings,
        % part2/integral-domains,
        % part2/ideals-and-quotient-rings,
        % part2/ring-homomorphisms,
        % part2/polynomial-rings,
        % part2/polynomial-factorization,
        % part2/domains,
        % part2/encryption,
        %
        % Part 3
        % part3/preamble,
        part3/basics-of-fields,
        %
        % % Appendices
        % appendices/preamble,
        % appendices/exercise-solutions,
        % appendices/problem-solutions,
        % appendices/image-acknowledgements,
        % appendices/bibliography,
        % appendices/notation,
        % appendices/index
    }
}
{
    % Do a full document generation initially to generate all the aux files
}

%=========================================
\begin{document}

\frontmatter  % Use lowercase roman numerals for page numbers
\include{front-matter}

\setcounter{part}{-1}  % So that the first part starts with 0
\mainmatter  % Now use arabic numerals for page numbers

%=========================================
\include{part0/preamble}
\include{part0/sets}
\include{part0/logic}
\include{part0/proofs}
\include{part0/algebra}
\include{part0/functions}
\include{part0/number-theory}
\include{part0/modular-arithmetic}

%=========================================
\include{part1/preamble}
\include{part1/intro-to-groups}
\include{part1/basics-of-groups}
\include{part1/subgroups}
\include{part1/homomorphisms-and-isomorphisms}
\include{part1/symmetry-groups}
\include{part1/products}
\include{part1/further-homomorphisms}
\include{part1/more-groups}
\include{part1/group-actions}
\include{part1/sylow-theorems}
\include{part1/composition-series}
\include{part1/simple-groups}

%=========================================
\draftstartmark  % TODO: Remove once no longer in draft
\include{part2/preamble}
\include{part2/intro-to-rings}
\include{part2/basics-of-rings}
\include{part2/integral-domains}
\include{part2/ideals-and-quotient-rings}
\include{part2/ring-homomorphisms}
\include{part2/polynomial-rings}
\include{part2/polynomial-factorization}
\include{part2/domains}
\include{part2/encryption}

%=========================================
\include{part3/preamble}
\include{part3/basics-of-fields}

\draftendmark  % TODO: Remove once no longer in draft

%=========================================
\appendix
\include{appendices/preamble}
\include{appendices/exercise-solutions}
\include{appendices/problem-solutions}
\include{appendices/image-acknowledgements}
\include{appendices/bibliography}
\include{appendices/notation}
\include{appendices/index}

\end{document}
