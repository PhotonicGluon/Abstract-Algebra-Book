\chapter{Elementary Number Theory}
Number theory is an integral part of abstract algebra, as we will use some of its more famous results in proofs. In this chapter, we explore the essentials of number theory, such as divisibility, primes, and modular arithmetic.

\section{Divisibility}
\begin{definition}
    Let $a$ and $b$ be integers. Then \term{$a$ divides $b$}\index{divides} (or that $a$ is a \term{factor}\index{factor} of $b$) if there is an integer $k$ such that $ak = b$. This is denoted $a\vert b$.
\end{definition}
\begin{remark}
    A consequence of this definition is that every number divides zero since $a \times 0 = 0$ for every integer $a$.
\end{remark}

\begin{example}
    $7\vert 63$ since $7 \times 9 = 63$.
\end{example}

\begin{example}
    8 does not divide 63 since there is not an integer $k$ such that $8k = 63$, so we write $8 \nmid 63$.
\end{example}

\begin{definition}
    An integer $a$ is a \term{multiple}\index{multiple} of an integer $b$ if and only if $b$ divides $a$.
\end{definition}

\begin{example}
    63 is a multiple of 7 since 7 divides 63.
\end{example}

\begin{example}
    63 is not a multiple of 8 since 8 does not divide 63.
\end{example}

We list some facts about divisibility that are not difficult to prove.
\begin{itemize}
    \item If $a\vert b$ then $a\vert bc$ for all integers $c$.
    \item If $a\vert b$ and $b\vert c$ then $a\vert c$.
    \item If $a\vert b$ and $a\vert c$ then $a\vert sb+tc$ for all integers $s$ and $t$.
    \item If $c \neq 0$, then $a\vert b$ if and only if $ac\vert bc$.
    \item If $a \vert b$ and $b \vert a$ then $a = \pm b$. In particular, if $a,b\geq 0$, then $a = b$.
\end{itemize}

\section{Euclid's Division Lemma}
\begin{lemma}[Euclid's Division Lemma]\label{lemma-euclid-division}\index{Euclid's Division Lemma}
    Given integers $n$ and $d$, with $d \neq 0$ being the \term{divisor}\index{divisor}, there exist unique integers $q$ and $r$ such that $n = qd + r$ and $0 \leq r < |d|$, where $|d|$ denotes the absolute value of $d$.

    In particular, $n$ is the \term{dividend}\index{dividend}, $q$ is the \term{quotient}\index{quotient}, and $r$ is the \term{remainder}\index{remainder}.
\end{lemma}
\begin{remark}
    This is also known as \term{the division algorithm}\index{division algorithm} (e.g. \cite[p.~4]{dummit_foote_2004}, \cite[p.~3]{gallian_2016}) or \term{the division theorem}\index{division theorem} (e.g. \cite[\S 21]{clark_1984}).
\end{remark}

\begin{example}
    Using $n = 63$ and $d = 8$ we see $63 = 7\times8 + 7$.
\end{example}

\begin{example}
    Using $n = 14$ and $d = -3$ we see $13 = -5\times3 + 1$.
\end{example}

\begin{exercise}
    Express $-210$ in the form $a-13b$, where $a$ and $b$ are positive integers with $0 \leq a \leq 12$.
\end{exercise}

\section{Greatest Common Divisor (GCD) and Lowest Common Multiple (LCM)}
\begin{definition}
    Let $m$ and $n$ be two non-zero integers. Then an integer $d$ is said to be the \term{greatest common divisor (GCD)}\index{greatest common divisor}\index{GCD} of $m$ and $n$ if $m = pd$ and $n = qd$ for some integers $p$ and $q$, and that $d$ is the largest possible integer that achieves this.

    The GCD of $m$ and $n$ is denoted by $\gcd(m, n)$.
\end{definition}
\begin{remark}
    If either $m$ or $n$ is zero, then $\gcd(m,n)$ is simply the absolute value of the non-zero value. Note that $\gcd(0, 0)$ is undefined.
\end{remark}

\begin{example}
    $\gcd(2, 8) = 2$ since $2 = 1 \times 2$ and $8 = 4 \times 2$.
\end{example}

\begin{example}
    $\gcd(42, 231) = 21$ since $42 = 2 \times 21$ and $231 = 11 \times 21$.
\end{example}

\begin{example}
    $\gcd(-10, 25) = 5$ since $-10 = -2 \times 5$ and $25 = 5 \times 5$.
\end{example}

\begin{example}
    $\gcd(0, 5) = \gcd(5, 0) = \gcd(0, -5) = \gcd(-5, 0) = 5$.
\end{example}

\begin{exercise}
    Find $\gcd(-112, -35)$.
\end{exercise}

We note some properties of the GCD.
\begin{lemma}[B\'{e}zout]\label{lemma-bezout}\index{B\'{e}zout's Lemma}
    Let $m$ and $n$ be non-zero integers. Let $\gcd(m, n) = d$. Then there exist integers $\lambda$ and $\mu$ such that $\lambda m + \mu n = d$. Moreover, the integers of the form $am + bn$ (where $a, b \in \Z$) are multiples of $d$.
\end{lemma}

\begin{proposition}\label{prop-gcd-divides-common-divisor}
    Let $a$, $b$, and $d$ are integers. If $d \vert a$ and $d \vert b$ then $d \vert \gcd(a, b)$.
\end{proposition}
\begin{proof}
    We know $\gcd(a,b) \vert a$ and $\gcd(a,b) \vert b$ by definition of GCD. By B\'{e}zout's lemma (\myref{lemma-bezout}) there exist integers $\lambda$ and $\mu$ such that $\lambda a + \lambda b = \gcd(a,b)$. Now since $d \vert a$ and $d \vert b$ we must have $d \vert \lambda a + \mu b$ by properties of division. Therefore $d \vert \gcd(a,b)$.
\end{proof}

We now look at the lowest common multiple of two integers.

\begin{definition}
    Let $m$ and $n$ be two non-zero integers. Then an integer $l$ is said to be the \term{lowest common multiple (LCM)}\index{lowest common multiple}\index{LCM} of $m$ and $n$ if $l = pm = qn$ for some integers $p$ and $q$, and that $l$ is the smallest possible \textbf{positive} integer that achieves this.

    The LCM of $m$ and $n$ is denoted by $\lcm(m,n)$.
\end{definition}

\begin{example}
    $\lcm(2, 8) = 8$ since $8 = 4 \times 2$ and $8 = 1 \times 8$.
\end{example}

\begin{example}
    $\lcm(42, 231) = 462$ since $462 = 11 \times 42$ and $462 = 2 \times 231$.
\end{example}

\begin{example}
    $\lcm(-10, 25) = 50$ since $50 = 5 \times -10$ and $50 = 2 \times 25$.
\end{example}

\begin{exercise}
    Find $\lcm(-112, -35)$.
\end{exercise}

\begin{proposition}\label{prop-product-of-gcd-and-lcm}
    Let $m$ and $n$ be non-zero integers. Then
    \[
        |mn| = \gcd(m,n) \times \lcm(m,n).
    \]
\end{proposition}

\pagebreak

\begin{exercise}
    Suppose $m = 42$ and $n = 70$. Let $d = \gcd(m,n)$.
    \begin{partquestions}{\roman*}
        \item Find $d$.
        \item Hence find $\lcm(m,n)$.
        \item Find two integers $x$ and $y$ such that $mx + ny = d$.
    \end{partquestions}
\end{exercise}

\section{Primes and Coprimality}
\begin{definition}\label{definition-prime-number}
    An integer $p > 1$ with no positive divisors other than 1 and itself is called \term{prime}\index{prime!number}. Every other number greater than 1 is called \term{composite}\index{composite number}.
\end{definition}
\begin{remark}
    The number 1 is neither prime nor composite; it is called a \term{unit}\index{unit}.
\end{remark}

\begin{example}
    The integers 2, 3, 5, 7, 11, and 13 are all prime, but 4, 6, 8, and 9 are composite.
\end{example}

Primes are useful since they can be used to construct any positive integer $n>1$ uniquely.
\begin{theorem}[Fundamental Theorem of Arithmetic]\label{thrm-fundamental-theorem-of-arithmetic}
    Any integer $n > 1$ can be expressed as the product of one or more prime numbers, uniquely up to the order in which they appear.
\end{theorem}

\begin{exercise}
    Express 44100 as a product of primes.
\end{exercise}

We now look at coprime integers.
\begin{definition}
    Two non-zero integers $m$ and $n$ are said to be \term{coprime}\index{coprime} to each other if and only if $\gcd(m, n) = 1$.
\end{definition}

\begin{example}
    17 and 18 are coprime since $\gcd(17, 18) = 1$.
\end{example}

\begin{example}
    25 and 27 are coprime since $\gcd(25, 27) = 1$.
\end{example}

\begin{example}
    12 and 24 are not coprime since $\gcd(12, 24) = 2 \neq 1$.
\end{example}

\begin{example}
    10 and 15 are not coprime since $\gcd(10, 15) = 5 \neq 1$.
\end{example}

We note two properties of coprime numbers.
\begin{proposition}\label{prop-prime-is-coprime-or-divisor}
    A positive integer $n > 1$ is a prime number if and only if $\gcd(a,n) = 1$ or $n \vert a$ for all integers $a$.
\end{proposition}
\begin{proof}
    For the forward direction, assume $n$ is prime. Then for any integer $a$ we must have $\gcd(a, n) = 1$ or $\gcd(a, n) = n$. If $\gcd(a,n) = n$ this means that $n \vert a$ (since the GCD of $a$ and $n$ must divide $a$); otherwise we obtain $\gcd(a,n) = 1$ as required.

    For the reverse direction, suppose that $\gcd(a,n) = 1$ or $n \vert a$ for all integers $a$. In particular, suppose the integer $k$ divides $n$, i.e. $k \vert n$, meaning $\gcd(k, n) = k$. So either $\gcd(k,n) = 1 = k$ or $n \vert k$. In the first case, we have $k = 1$. In the second case we have $k \vert n$ and $n \vert k$ simultaneously, meaning $k = n$. Therefore $n$ has no positive divisors other than 1 and itself, meaning it is prime.
\end{proof}

\begin{theorem}\label{theorem-n-divides-ab-and-n-coprime-with-a-implies-n-divides-b}
    Let $n$, $a$, and $b$ be integers. If $n \vert ab$, and $n$ is coprime with $a$, then $n \vert b$.
\end{theorem}
\begin{proof}
    We present a proof using induction here; \myref{problem-n-divides-ab-and-n-coprime-with-a-implies-n-divides-b} (later) will produce a proof using B\'ezout's lemma (\myref{lemma-bezout}).

    Suppose $n \vert ab$, meaning $ab = kn$ for some integer $k$. Since $x\vert y$ means $x\vert yz$ for all integers $z$, we see $x \vert -y$ (and $-x \vert y$), meaning divisibility is independent of the signs of the integers. Thus, without loss of generality, assume $a$, $b$, $k$, and $n$ are all positive. We induct on the value of $ab$.

    When $ab = 1$, if $n \vert 1$, this means $n = 1$ since 1 divides any integer. In particular, this means that $n \vert b$.

    Now assume that the theorem holds for all (positive) integers smaller than $ab$. We need to show that the theorem holds for $ab$. There are 3 cases.
    \begin{itemize}
        \item $\boxed{n=a}$ Given that $n = a$ and $n$ is coprime with $a$, this means that $\gcd(n,n) = 1$ which shows that $n = 1$. As 1 divides all integers, thus $n \vert b$.

        \item $\boxed{n<a}$ As $ab = kn$ we see that
        \[
            (a-n)b = ab - nb = kn - nb = n(k-b)
        \]
        which means $n$ divides $(a-n)b$. Now suppose $d$ is the GCD of $a-n$ and $n$. By divisibility properties this means that $d$ divides their sum $(a-n)+n = a$. Thus $d$ divides both $a$ and $n$, which means $d = 1$ since $a$ and $n$ are coprime. Since $0 < (a-n)b < ab$, Applying induction hypothesis on $a-n$ and $b$ yields required result.

        \item $\boxed{n>a}$ As $ab = kn$ we see that
        \[
            (n-a)k = nk - ak = ab - ak = a(b-k)
        \]
        which means $a$ divides $n-a$. By similar argument as above we see $a$ and $n-a$ are coprime. Since $0 < a(b-k)<ab$, applying induction hypothesis on $a$ and $n-a$ yields $n-a$ divides $b-k$. Thus $b-k = q(n-a)$ for some integer $q$. Therefore
        \[
            (n-a)k = a(b-k) = aq(n-a)
        \]
        so dividing by $n-a$ means $aq = k$. Hence $ab = kn = aqn$ which thus means $b = qn$, i.e. $n$ divides $b$.
    \end{itemize}
    In all three cases we have $n \vert b$. Thus the theorem holds for $ab$.

    Therefore by induction the theorem is proven.
\end{proof}

We note one corollary of this theorem, which is often cited as Euclid's lemma.

\begin{corollary}[Euclid's Lemma]\index{Euclid's Lemma}\label{corollary-euclid}
    Let $p$ be a prime, and let $a$ and $b$ be integers. If $p \vert ab$ then $p \vert a$ or $p \vert b$.
\end{corollary}
\begin{proof}
    If $p$ is prime, then either $p$ divides $a$ or $p$ does not divide $a$. The case where $p$ divides $a$ yields the conclusion, so we work assuming that $p$ does not divide $a$. By \myref{prop-prime-is-coprime-or-divisor} this means that $a$ and $p$ are coprime, so by \myref{theorem-n-divides-ab-and-n-coprime-with-a-implies-n-divides-b} we know that $p$ divides $b$.
\end{proof}

\section{Modulo and Modular Congruence}
One may think of modular arithmetic as a number system where numbers `wrap around' after reaching a certain value.

\begin{definition}
    Given an integer $n>1$, called a \term{modulus}\index{modulus}, two integers $a$ and $b$ are said to be \term{congruent modulo $n$}\index{congruence} if $n$ is a divisor of $a - b$. It is denoted $a \equiv b \pmod{n}$.
\end{definition}
\begin{remark}
    Equivalently, $a \equiv b \pmod n$ means that $a = kn + b$ for some integer $k$.
\end{remark}
\begin{remark}
    The parentheses mean that ``mod $n$'' applies to the entire equation, not just to the right-hand side (here, $b$). This notation is not to be confused with the notation ``$b \mod n$'' (without parentheses), which refers to the modulo operation that returns the remainder upon division by $n$.
\end{remark}

\begin{example}
    We see that $38 \equiv 14 \pmod{12}$ since $38 - 14 = 24 = 2 \times 12$. Another way to express this is to say that both 38 and 14 have the same remainder (i.e., 2) when divided by 12.
\end{example}

\begin{exercise}
    Let $m = 5$ and $n = 3$.
    \begin{partquestions}{\alph*}
        \item State the value of $17 \mod m$.
        \item Find an $x$ where $0 \leq x < m$ and $19 \equiv x \pmod m$.
        \item If $A = 1234n + 5$, what is $A \mod n$?
    \end{partquestions}
\end{exercise}

The definition of congruence also applies to negative values.
\begin{example}
    $-3 \equiv 2 \pmod5$ since $-3 = -1\times5 + 2$.
\end{example}

\begin{example}
    $-8 \equiv 7 \pmod5$ since $-8 = -3\times5 + 7$. Furthermore, $7 \equiv 2 \pmod5$ since $7 = 1\times5 + 2$.
\end{example}

\begin{example}
    $-1 \equiv n-1 \pmod{n}$ since $-1 = 1\times n + (n-1)$.
\end{example}

\begin{exercise}
    Explain why $-n \equiv n \pmod{2n}$.
\end{exercise}

The operation of congruence modulo $n$ has a few properties\index{congruence!properties} which we state without proof. Let $k$ be an integer, $a \equiv b \pmod n$, $a_1 \equiv b_1 \pmod n$ and $a_2 \equiv b_2 \pmod n$. Then
\begin{itemize}
    \item $a + k \equiv b + k \pmod n$;
    \item if $a+k \equiv b+k \pmod n$ then $a \equiv b \pmod n$;
    \item $ka \equiv kb \pmod n$;
    \item $ka \equiv kb \pmod {kn}$;
    \item $a_1 \pm a_2 \equiv b_1 \pm b_2 \pmod n$;
    \item $a_1a_2 \equiv b_1b_2 \pmod n$;
    \item $a^k \equiv b^k \pmod n$ if $k \geq 0$;
    \item if $ka \equiv kb \pmod n$ and $\gcd(k, n) = 1$, then $a \equiv b \pmod n$; and
    \item if $ka \equiv kb \pmod{kn}$ where $k \neq 0$ then $a \equiv b \pmod n$.
\end{itemize}

\begin{exercise}
    Find the last two digits of $778899^{112233}$.
\end{exercise}

\section{Modular Multiplicative Inverse}
\begin{definition}
    Let $m$ be a positive integer, and let $a$ be an integer. An integer $x$ such that $ax \equiv 1 \pmod m$ is said to be the \term{multiplicative inverse of $a$ modulo $m$}\index{multiplicative inverse modulo $n$}.
\end{definition}

\begin{example}
    4 is the multiplicative inverse of 7 modulo 9 since $4 \times 7 = 28 = 3 \times 9 + 1 \equiv 1 \pmod 9$.
\end{example}

\begin{exercise}
    Find the multiplicative inverse of 123 modulo 5.
\end{exercise}

\begin{proposition}\label{prop-multiplicative-inverse-exists-iff-coprime}
    Let $m$ be a positive integer, and let $a$ be an integer. Then $a$ has a multiplicative inverse modulo $m$ if and only if $\gcd(a,m) = 1$.
\end{proposition}
\begin{proof}
    We first work forwards and suppose $k$ is the multiplicative inverse of $a$ modulo $m$. Then $ka \equiv 1 \pmod m$. Hence $ka - 1 \equiv 0 \pmod m$, so $m$ divides $ka - 1$. This means that $ka - 1$ is a multiple of $m$, so $ka - 1 = pm$ for some integer $p$. Therefore $ka + pm = 1$ By B\'{e}zout's lemma (\myref{lemma-bezout}) this means that $\gcd(a, m) = 1$.

    Now, working in the reverse direction, suppose $\gcd(a, m) = 1$. B\'{e}zout's lemma tells us that integers $k$ and $p$ exist such that $ka + pm = 1$, meaning $ka - 1 = pm$. So $m$ divides $ka - 1$, meaning $ka - 1 \equiv 0 \pmod m$ which the result quickly yields.
\end{proof}

\begin{example}
    Since $\gcd(20, 31) = 1$, thus 20 has a multiplicative inverse modulo 31. One can verify that 14 is the multiplicative inverse of 20 modulo 31.
\end{example}

\newpage

\section{Problems}
\begin{problem}
    Find the positive integer $a$ such that $\gcd(a, 50) = 5$ and $\lcm(a, 50) = 150$.
\end{problem}

\begin{problem}
    Let $a$ and $b$ be positive integers. If $\lcm(a, b) = a^2$, express $b$ in terms of $a$.
\end{problem}

\begin{problem}
    Prove that $5^{2n+3} \equiv 5 \pmod 8$ for all non-negative integers $n$.
\end{problem}

\begin{problem}
    Show that $n^2 \vert (1+n)^n - 1$ for all positive integers $n$.
\end{problem}

\begin{problem}
    Prove that $7^{3^n} \equiv 1 \pmod 9$ for all positive integers $n$.
\end{problem}

\begin{problem}
    Find all even perfect squares that are not multiples of 4.
\end{problem}

\begin{problem}
    Find the last 3 digits of $57^{2023}$.
\end{problem}

\begin{problem}
    Let $n$ be an integer.
    \begin{partquestions}{\roman*}
        \item Prove that if $n$ is positive, then $6 \vert 2n^3 + 3n^2 + n$.
        \item Prove that $12 \vert n^4 - n^2$.
    \end{partquestions}
\end{problem}

\begin{problem}\label{problem-n-divides-ab-and-n-coprime-with-a-implies-n-divides-b}
    Prove \myref{theorem-n-divides-ab-and-n-coprime-with-a-implies-n-divides-b} by using B\'ezout's lemma (\myref{lemma-bezout}).
\end{problem}

\begin{problem}
    Let $a$ and $b$ be non-negative integers.
    \begin{partquestions}{\roman*}
        \item Prove that $\gcd(a^2, b^2) = \left(\gcd(a,b)\right)^2$.
        \item Find a similar expression for $\lcm(a^2, b^2)$.
    \end{partquestions}
\end{problem}
