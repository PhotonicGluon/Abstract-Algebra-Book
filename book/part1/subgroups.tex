\chapter{Subgroups}
We introduced the simple properties of groups and simple examples of groups in the previous chapter. Sometimes, subsets of a group can also be a group. Such groups are called subgroups; we explore important properties and results relating to them in this chapter, with the most important result being Lagrange's theorem.

\section{What is a Subgroup?}
\begin{definition}
    Let $G$ be a group with operation $\ast$. Let $H$ be a subset of $G$. Then $H$ is said to be a \term{subgroup}\index{subgroup} of $G$ if it is also a group under the same operation $\ast$.

    We write $H \leq G$ if $H$ is a subgroup of $G$.
\end{definition}
\begin{remark}
    Equivalently, $H \leq G$ if $H$ is a subset of $G$ and $H$ satisfies the following conditions.
    \begin{itemize}
        \item \textbf{Closure}: For all $x$ and $y$ in $H$, we have $x \ast y$ is also in $H$.
        \item \textbf{Identity}: The identity of the group $G$ is in $H$.
        \item \textbf{Inverse}: For all elements $x$ in $H$, there exists an element $x^{-1}$ in $H$ such that $x \ast x^{-1} = x^{-1} \ast x = e$.
    \end{itemize}
\end{remark}

\begin{example}\label{example-subgroups-of-Z}
    Let's look at all possible subgroups of the group $(\Z, +)$. Suppose $H$ is a subgroup of $G$ with $H \neq \{0\}$.

    Let $n$ be the smallest positive integer in $H$. Let $m$ be any other number in $H$. Then by Euclid's division lemma (\myref{lemma-euclid-division}), we may write $m = nq + r$ where $q$ and $r$ are integers such that $0 \leq r < n$. Hence,
    \[
        r = m + \underbrace{(-n) +(-n) +(-n) + \cdots + (-n)}_{q\text{ times}}.
    \]
    Note that since both $m$ and $-n$ are in $H$, thus $r = m + (-n) + \cdots + (-n)$ is also in $H$, since $H$ is closed under addition. But $0 \leq r < n$ and $n$ is the \textit{smallest} positive integer in $H$. Thus, $r \not> 0$ which means $r = 0$. Therefore $m = nq$, i.e. every element in $H$ is a multiple of the smallest positive integer in $H$.

    Hence,
    \[
        H = \{nk \vert k \in \Z\},
    \]
    which is often written as $n\Z$.
\end{example}

\newpage

\begin{exercise}
    Let $G$ be a group with identity $e$.
    \begin{partquestions}{\alph*}
        \item Prove that the \term{trivial subgroup}\index{subgroup!trivial}, $\{e\}$, is a subgroup of $G$.
        \item Prove that $G \leq G$.
    \end{partquestions}
\end{exercise}
\begin{remark}
    A subgroup that is \textit{not} $\{e\}$ is called a \term{non-trivial subgroup}\index{subgroup!non-trivial}.
\end{remark}

We end this section by defining the idea of a proper subgroup.
\begin{definition}
    A subgroup $H$ be of a group $G$ is a \term{proper subgroup}\index{subgroup!proper} if $H \neq G$, and we write $H < G$.
\end{definition}
\begin{remark}
    Some authors (e.g. {\cite[p.~32]{hungerford_1980}}) require a proper subgroup to also be non-trivial. We do not adopt this definition here.
\end{remark}
\begin{remark}
    Equivalently, a subgroup $H$ is a proper subgroup of $G$ if $H$ is a \textit{proper} subset of $G$ (i.e. $H \subset G$).
\end{remark}

\section{Subgroup Test}
To prove that a subset of a group is a subgroup using the axioms is too tedious. Wouldn't it be nice if we have a simple test to determine if a subset is a subgroup? Well, there is; it is called the subgroup test.
\begin{theorem}[Subgroup Test]\index{subgroup test}\label{thrm-subgroup-test}
    Let $G$ be a group with identity $e$, and let $H$ be a non-empty subset of $G$. Then $H \leq G$ if and only if $xy^{-1} \in H$ for all $x, y \in H$.
\end{theorem}
\begin{proof}
    We prove the forward direction first. Suppose $H \leq G$, and let $x$ and $y$ be elements in $H$. Since $H$ is a subgroup of $G$, inverses exist. Thus $y^{-1}$ is in $H$. Also, since $H$ is a subgroup of $G$, thus $H$ is closed under the group operation. Hence, $xy^{-1}$ is in $H$. Therefore, if $H \leq G$ then $xy^{-1} \in H$ for all $x, y \in H$.

    We now prove the reverse direction. Suppose $xy^{-1}\in H$ for all $x$ and $y$ in $H$.
    \begin{itemize}
        \item Set $x = h$ and $y = h$. Then $xy^{-1} = hh^{-1} = e$ is in $H$. Thus the identity of $G$ is in $H$.
        \item Set $x = e$ and let $y = h$. Then $xy^{-1} = eh^{-1} = h^{-1}$ is in $H$. Hence every element in $H$ has an inverse in $H$.
        \item Let $a$ and $b$ be elements in $H$. Then by above point, $b^{-1}$ is in $H$. Set $x = a$ and $y = b^{-1}$. Then $xy^{-1} = a\left(b^{-1}\right)^{-1} = ab$ is in $H$. Hence $H$ is closed under the group operation.
    \end{itemize}
    Therefore if $xy^{-1}$ is in $H$ for all $x$ and $y$ in $H$, then $H \leq G$.
\end{proof}
\begin{remark}
    We usually check the `non-empty' requirement by checking if the identity of $G$ is in $H$.
\end{remark}

We look at some examples of the use of the subgroup test.
\begin{example}\label{example-center-of-group}
    Let $G$ be a group. The \term{center}\index{center} of a group $G$ is given by the set
    \[
        \CenterGrp{G} = \{z \in G \vert gz = zg \text{ for all } g \in G\}.
    \]
    Clearly $\CenterGrp{G}$ is a subset of $G$. We claim that $\CenterGrp{G}$ is a subgroup of $G$.

    \begin{proof}
	    Note that $e \in \CenterGrp{G}$ since $ge = eg$ for all $g \in G$, so $\CenterGrp{G}$ is non-empty.

	    Let $x$ and $y$ be in $\CenterGrp{G}$, meaning that $gx = xg$ and $gy = yg$ for all $g \in G$. Note that $gy = yg$ implies $y^{-1}g = gy^{-1}$, so $y^{-1} \in \CenterGrp{G}$. Now,
	    \begin{align*}
	        (xy^{-1})g &= x(y^{-1}g)\\
	        &= x(gy^{-1}) & (\text{since } y^{-1} \in \CenterGrp{G})\\
	        &= (xg)y^{-1} & (\text{associativity})\\
	        &= (gx)y^{-1} & (\text{since } x \in \CenterGrp{G})\\
	        &= g(xy^{-1}) & (\text{associativity})
	    \end{align*}
	    which means that $xy^{-1} \in \CenterGrp{G}$.

        Hence $\CenterGrp{G} \leq G$ by the subgroup test (\myref{thrm-subgroup-test}).
    \end{proof}
\end{example}

\begin{example}\label{example-centralizer-of-a-subset}
    Let $G$ be a group and $S$ be a non-empty subset of $G$. The \term{centralizer}\index{centralizer} of $S$ in $G$ is the set
    \[
        \Centralizer{G}{S} = \left\{g \in G \vert gs = sg \text{ for all } s \in S\right\}.
    \]
    Note $\Centralizer{G}{S}$ is a subset of $G$. We claim that $\Centralizer{G}{S}$ is a subgroup of $G$.
    \begin{proof}
        Clearly for all $s \in S$ we have $es = se$, so $e \in \Centralizer{G}{S}$. This means that $\Centralizer{G}{S}$ is non-empty. Now suppose $x$ and $y$ are in $\Centralizer{G}{S}$. Let $s$ be in $S$. Note that the condition $gs = sg$ is equivalent to the condition $sg^{-1} = g^{-1}s$. So
        \begin{align*}
            (xy^{-1})s &= x(y^{-1}s) & (\text{associativity})\\
            &= x(sy^{-1}) & (\text{since } g^{-1}s = sg^{-1})\\
            &= (xs)y^{-1} & (\text{associativity})\\
            &= (sx)y^{-1} & (\text{since } gs = sg)\\
            &= s(xy^{-1}) & (\text{associativity})
        \end{align*}
        which means $(xy^{-1})s = s(xy^{-1})$ for all $s$ in $S$. Thus, $xy^{-1}$ is in $\Centralizer{G}{S}$ for all $x$ and $y$ in $\Centralizer{G}{S}$, so $\Centralizer{G}{S} \leq G$ by subgroup test (\myref{thrm-subgroup-test}).
    \end{proof}
\end{example}
\begin{remark}
    If the set $S$ contains a single element, say $x$, we write $\Centralizer{G}{x}$.
\end{remark}

\begin{exercise}
    Let $G$ be a group, and let $g \in G$. Show that $\langle g \rangle = \{g^k \vert k \in \Z\}$ is a subgroup of $G$, called the \term{cyclic subgroup}\index{subgroup!cyclic} generated by $g$.
\end{exercise}

\begin{exercise}\label{exercise-conjugate-subgroup}
    Let $G$ be a group, $H \leq G$, and $g \in G$. Define the set $gHg^{-1} = \{ghg^{-1} \vert h \in H\}$. Prove that $gHg^{-1} \leq G$ under the group operation of $G$.
\end{exercise}

\section{Cosets}
\begin{definition}
    Let $G$ be a group, $H \leq G$, and $g$ be an element of $G$.
    \begin{itemize}
        \item The \term{left coset}\index{coset!left} of $H$ in $G$ is defined to be $gH = \{gh \vert h \in H\}$.
        \item The \term{right coset}\index{coset!right} of $H$ in $G$ is defined to be $Hg = \{hg \vert h \in H\}$.
    \end{itemize}
    Any element in a coset is called a \term{representative}\index{coset!representative} of a coset.
\end{definition}
\begin{remark}
    The subgroup $H$ is both a left and right coset of $H$ in $G$. This is because the element $g$ in question is $g = e$, so $gH = eH = H$ and $Hg = He = H$.
\end{remark}

\begin{example}
    Let $G = D_3$, and $H = \{e, s\} \leq G$. The distinct left cosets of $H$ in $G$ are
    \begin{itemize}
        \item $eH = \{e, s\} = H$;
        \item $rH = \{r, rs\}$; and
        \item $r^2H = \{r^2, r^2s\}$.
    \end{itemize}
    Since each element of $G$ appears in one of these cosets, generating more using any other element would not give new cosets. This is because a new coset would have to contain an element in common with one of the above cosets and therefore be identical to it. For example, $rsH = \{rs, rss\} = \{rs, r\} = rH$.

    The distinct right cosets of $H$ in $G$ are
    \begin{itemize}
        \item $He = \{e, s\} = H$;
        \item $Hr = \{r, sr\} = \{r, r^2s\}$; and
        \item $Hr^2 = \{r^2, sr^2\} = \{r^2, rs\}$.
    \end{itemize}
    Thus, for $D_3$, no left coset is a right coset, except for $H = eH = He$.
\end{example}

\begin{exercise}
    Let $G$ be the group $(\Z_8, \oplus_8)$. Let $H = \{0, 4\} \leq G$.
    \begin{partquestions}{\alph*}
        \item Explain why any left coset of $H$ in $G$ by an element $g \in G$ is the same as the right coset of $H$ in $G$ by $g$.
        \item Find all distinct left cosets of $H$ in $G$.
    \end{partquestions}
\end{exercise}

\newpage

We now state and prove a result that relates the equality of cosets.
\begin{lemma}[Coset Equality]\label{lemma-coset-equality}\index{Coset Equality Lemma}
    Let $G$ be a group, $H \leq G$, and $g_1$ and $g_2$ be elements in $G$. Then the following statements are equivalent.
    \begin{enumerate}
        \item $g_1H = g_2H$
        \item $Hg_1^{-1} = Hg_2^{-1}$
        \item $g_1H \subseteq g_2H$
        \item $g_2 \in g_1H$
        \item $g_1^{-1}g_2 \in H$
    \end{enumerate}
\end{lemma}
\begin{proof}
    We prove the statements in order.

    \begin{itemize}
        \item $\boxed{(1) \implies (2)}$ Suppose $g_1H = g_2H$. We show $Hg_1^{-1} = Hg_2^{-1}$.

        Let $x \in Hg_1^{-1}$. Then $x = hg_1^{-1}$ for some $h$ in $H$. Thus $x^{-1} = \left(hg_1^{-1}\right)^{-1} = g_1h^{-1}$ by Shoes and Socks. Since $h^{-1}$ is in $H$, thus $x^{-1} = g_1h^{-1}$ is in $g_1H$.

        Since $g_1H = g_2H$, thus $x^{-1} \in g_2H$. Write $x^{-1} = g_2\hat{h}$ for some $\hat{h}$ in $H$. Thus $x = (g_2\hat{h})^{-1} = \hat{h}^{-1}g_2^{-1}$ by Shoes and Socks. Since $\hat{h}^{-1}$ is in $H$ thus $x = \hat{h}^{-1}g_2^{-1}$ is in $Hg_2^{-1}$.

        Hence, any element $x \in Hg_1^{-1}$ is also in $Hg_2^{-1}$, i.e. $Hg_1^{-1} \subseteq Hg_2^{-1}$. A similar argument shows that $Hg_2^{-1} \subseteq Hg_1^{-1}$. Thus $Hg_1^{-1} = Hg_2^{-1}$ as required.

        \item $\boxed{(2) \implies (3)}$ Suppose $Hg_1^{-1} = Hg_2^{-1}$ and take $x \in g_1H$. Thus $x = g_1h$ for some $h$ in $H$. Therefore $x^{-1} = (g_1h)^{-1} = h^{-1}g_1^{-1} \in Hg_1^{-1}$ since $h^{-1}$ is in $H$. By assumption $Hg_1^{-1} = Hg_2^{-1}$ so $x^{-1} \in Hg_2^{-1}$. Let $x^{-1} = \hat{h}g_2^{-1}$ for some $\hat{h}$ in $H$. Then $x = \left(\hat{h}g_2^{-1}\right)^{-1} = g_2\hat{h}^{-1} \in g_2H$ since $\hat{h}^{-1}$ is in $H$. Hence $x$ is in $g_2H$. Therefore, for any $x \in g_1H$, $x$ will also be in $g_2H$. Thus $g_1H \subseteq g_2H$.

        \item $\boxed{(3) \implies (4)}$
        Suppose $g_1H \subseteq g_2H$. Then for all $x$ in $g_1H$, $x$ is also in $g_2H$. Note that $g_1 = g_1e$. Since $e$ is in $H$ (as $H \leq G$) thus $g_1e \in g_1H \subseteq g_2H$ by assumption. Thus $g_1 \in g_2H$ as needed.

        \item $\boxed{(4) \implies (5)}$
        Suppose $g_1 \in g_2H$. Then $g_1 = g_2h$ for some $h$ in $H$. Thus,
        \begin{align*}
            &g_1^{-1}g_1 = g_1^{-1}g_2h & (\text{left multiply by } g_1^{-1})\\
            &e = g_1^{-1}g_2h\\
            &h^{-1} = g_1^{-1}g_2hh^{-1} & (\text{right multiply by } h^{-1})\\
            &h^{-1} = g_1^{-1}g_2.
        \end{align*}
        Since $h^{-1}$ is an element in $H$ thus $g_1^{-1}g_2 = h^{-1}$ is also in $H$, meaning $g_1^{-1}g_2 \in H$.

        \item $\boxed{(5) \implies (1)}$
        Suppose $g_1^{-1}g_2$ is an element of $H$. Thus, $g_1^{-1}g_2 = \hat{h}$ for some $\hat{h}$ in $H$. Let $x$ be an element from $g_1H$, so $x = g_1h$ for some $h$ in $H$. Then
        \begin{align*}
            x^{-1} &= (g_1h)^{-1}\\
            &= h^{-1}g_1^{-1} & (\text{Shoes and Socks})\\
            &= h^{-1}g_1^{-1}(g_2g_2^{-1}) & (\text{since }g_2g_2^{-1} = e)\\
            &= h^{-1}(g_1^{-1}g_2)g_2^{-1}\\
            &= h^{-1}\hat{h}g_2^{-1}
        \end{align*}
        which means $x = \left(h^{-1}\hat{h}g_2^{-1}\right)^{-1} = g_2\hat{h}^{-1}h$, which is an element of $g_2H$ since $\hat{h}^{-1}h$ is in $H$.

        Thus, for all $x$ in $g_1H$, $x$ is also in $g_2H$ which means $g_1H \subseteq g_2H$. A similar argument can be used to show that $g_2H \subseteq g_1H$. Hence $g_1H = g_2H$.
    \end{itemize}

    Thus, $(1) \implies (2) \implies (3) \implies (4) \implies (5) \implies (1)$, completing the proof.
\end{proof}

\begin{exercise}\label{exercise-intersection-of-distinct-cosets-is-empty}
    Let $G$ be a group, $H \leq G$, and $g_1, g_2 \in G$. Prove that if $g_1H \cap g_2H \neq \emptyset$ then $g_1H = g_2H$.
\end{exercise}

We note one very useful corollary of the Coset Equality lemma (\myref{lemma-coset-equality}).

\begin{corollary}[Element in Coset]\label{corollary-equivalence-of-element-in-coset}
    Let $G$ be a group, $H \leq G$, and $x \in G$. Then the following statements are equivalent.
    \begin{enumerate}
        \item $x \in H$
        \item $xH = H$
        \item $Hx = H$
    \end{enumerate}
\end{corollary}
\begin{proof}
    We prove this corollary by showing $(1) \iff (2)$ and $(1) \iff (3)$, which will imply $(2) \iff (3)$.
    \begin{itemize}
        \item $\boxed{(1) \iff (2)}$ Let $g_1 = e$ and $g_2 = x$. Result is clear from Coset Equality (\myref{lemma-coset-equality}), statements 1 and 5.
        \item $\boxed{(1) \iff (3)}$ We note $x \in H$ if and only if $x^{-1} \in H$ (since $H$ is a subgroup). Let $g_1 = x^{-1}$ and $g_2 = e$. Result follows from Coset Equality (\myref{lemma-coset-equality}), statements 2 and 5.
    \end{itemize}
    This completes the proof.
\end{proof}
\begin{remark}
    This corollary is very useful, and arguably more useful than Coset Equality (\myref{lemma-coset-equality}), as we often consider cases where we see a coset equalling the subgroup itself.
\end{remark}

\section{Lagrange's Theorem}
Lagrange's theorem is an important result relating the order of a subgroup and the order of the group itself. Before that, we introduce the idea of the index of a subgroup.

\begin{definition}
    Let $G$ be a group and $H \leq G$. The \term{index}\index{index} of $H$ in $G$, denoted by $[G : H]$, is the number of left cosets of $H$ in $G$.
\end{definition}
Note that since the number of left cosets is the number of right cosets, $[G : H]$ can be defined as the number of cosets of $H$ in $G$.

\begin{example}
    If $G = D_3$ and $H = \{e, s\}$, then there are 3 distinct left cosets, namely $H$, $rH$, and $r^2H$. Thus, $[G:H] = 3$ in this case.
\end{example}

We require two lemmas to properly prove Lagrange's theorem.
\begin{lemma}\label{lemma-left-coset-partition}
    The distinct left cosets of a subgroup $H$ of a group $G$ partition $G$.
\end{lemma}
\begin{proof}
    To prove that the distinct left cosets of $H$ in $G$ partition $G$, we need to show three things.
    \begin{itemize}
        \item Every left coset is non-empty.
        \item The intersection of any 2 distinct left cosets is the empty set (i.e., distinct left cosets are disjoint).
        \item The union of all left cosets is the group.
    \end{itemize}
    The first bullet point is clear, since the identity $e$ is in every left coset. The second bullet point is proven by \myref{exercise-intersection-of-distinct-cosets-is-empty}. We only need to show the third bullet point to prove the lemma.

    Suppose $g$ is in $G$. We will find a left coset that contains $g$. Clearly $g = ge$, and since $e$ is an element of $H$, thus $g = ge$ is an element of the left coset $gH$. So any element in $G$ belongs to a left coset of $H$ in $G$. Thus the union of all left cosets is the group.

    Hence, distinct left cosets of $H$ in $G$ partition $G$.
\end{proof}

\begin{lemma}\label{lemma-order-of-coset}
    Let $G$ be a group and $H \leq G$. Then $|H| = |gH|$ for all $g$ in $G$.
\end{lemma}
\begin{proof}
    Define the map $\phi: H \to gH$ such that $\phi(h) = gh$. To prove that $|H| = |gH|$, we need to show that $\phi$ is a bijection.
    \begin{itemize}
        \item \textbf{Injective}: Let $h$ and $\hat{h}$ be elements in $H$ such that $\phi(h) = \phi(\hat{h})$. Then $gh = g\hat{h}$ by definition of $\phi$. By cancellation law, we have $h = \hat{h}$ which means $\phi$ is injective.
        \item \textbf{Surjective}: Let $x$ be in $gH$. Thus $x = gh$ for some $h$ in $H$. Clearly $\phi(h) = gh = x$ so a pre-image of $x$ exists in $H$. Therefore $\phi$ is surjective.
    \end{itemize}
    Therefore $\phi$ is a bijection, which means $|H| = |gH|$.
\end{proof}

We are now ready to state and prove Lagrange's theorem.
\begin{theorem}[Lagrange]\label{thrm-lagrange}\index{Lagrange's Theorem}
    Let $G$ be a group and $H \leq G$. Then $|G| = [G:H]|H|$.
\end{theorem}
\begin{proof}
    Suppose $|G| = n$. Let $\mathcal{S} = \{g_1H, g_2H, g_3H, \dots, g_kH\}$ be the set containing all distinct left cosets of $H$ in $G$. Thus $k = [G: H]$.

    Note that distinct left cosets partition $G$ (\myref{lemma-left-coset-partition}). Hence
    \[
        G = \bigcup_{i=1}^k g_iH = g_1H \cup g_2H \cup \cdots \cup g_kH
    \]
    with $g_iH \cap g_jH = \emptyset$ if $i \neq j$. This means
    \begin{align*}
        |G| &= \sum_{i=1}^k|g_iH|\\
        &=\sum_{i=1}^k|H| & (\myref{lemma-order-of-coset})\\
        &= k|H|.
    \end{align*}
    Recall $k = [G: H]$, so $|G| = [G:H]|H|$, proving Lagrange's theorem.
\end{proof}

\begin{exercise}
    Let $G$ be the group $(\Z_{99}, \oplus_{99})$. It is given that $H = \{0, 33, 66\}$ is a subgroup of $G$. What is the index of $H$ in $G$?
\end{exercise}

Let's look at some corollaries of Lagrange's theorem.
\begin{corollary}\label{corollary-order-of-group-multiple-of-order-of-element}
    Let $G$ be a finite group and let $g$ be an element in $G$. Then $|G|$ is a multiple of $|g|$.
\end{corollary}
\begin{proof}
    We are to show that $|G| = m|g|$ for some positive integer $m$.
    \begin{itemize}
        \item When $g = e$, we see $|e| = 1$ which means $|G| = |G| \times 1 = |G||e|$.
        \item When $g \neq e$, set $|g| = n$. Consider the cyclic subgroup $\langle g \rangle = \{g, g^2, g^3, \dots, g^n\}$. Note that $|g| = |\mathcal{S}| = n$, so by Lagrange's theorem (\myref{thrm-lagrange}) we have $|G| = [G:\mathcal{S}]|\mathcal{S}| = [G:\mathcal{S}]|g|$. Hence, in this case, $m = [G:\mathcal{S}]$.
    \end{itemize}
    This proves the claim.
\end{proof}

\begin{corollary}\label{corollary-group-with-prime-order-subgroups}
    A finite group $G$ with prime order $p$ has no proper non-trivial subgroups.
\end{corollary}
\begin{proof}
    By Lagrange's theorem (\myref{thrm-lagrange}), the order of a subgroup must be a factor of the order of the group. Since the order of the group is prime, it only has 2 factors, namely 1 and $p$. The subgroup of order 1 is the trivial subgroup and the subgroup of order $p$ is $G$ itself. Hence $G$ has no proper non-trivial subgroups.
\end{proof}

\begin{corollary}\label{corollary-prime-order-element}
    Let $G$ be a finite group with prime order $p$. Let $x$ be a non-identity element in $G$. Then $|x| = p$.
\end{corollary}
\begin{proof}
    See \myref{exercise-prime-order-element} (later).
\end{proof}

\begin{corollary}\label{corollary-group-with-prime-order-is-cyclic}
    A finite group $G$ with prime order $p$ is cyclic.
\end{corollary}
\begin{proof}
    By \myref{corollary-prime-order-element}, any non-identity element $g$ in $G$ has $|g| = p$. Thus $\langle g \rangle \neq \{e\}$.

    Note that $\langle g \rangle = \{g, g^2, g^3, \dots, g^p\} \leq G$. However, by \myref{corollary-group-with-prime-order-subgroups}, the only subgroups of $G$ are $\{e\}$ and $G$. Since $\langle g \rangle \neq \{e\}$ thus $\langle g \rangle = G$, meaning $G$ is cyclic with generator $g$.
\end{proof}

\begin{exercise}\label{exercise-prime-order-element}
    Let $G$ be a finite group with prime order $p$. Prove that any non-identity element in $G$ has order $p$.
\end{exercise}

\section{Normal Subgroups}
\begin{definition}
    Let $G$ be a group and $N \leq G$. We say that $N$ is a \term{normal subgroup}\index{subgroup!normal} of $G$ if $gN = Ng$ for all $g \in G$, and we write $N \unlhd G$.
\end{definition}

Note that $gN = Ng$ is equivalent to the following two statements:
\begin{itemize}
    \item $gNg^{-1} = N$ for all $g \in G$. (One may interpret $gNg^{-1}$ as either the left coset $g(Ng^{-1})$ or the right coset $(gN)g^{-1}$.)
    \item $gng^{-1} \in N$ for all $g \in G$ and $n \in N$.
\end{itemize}

\begin{proposition}\label{prop-subgroup-of-abelian-group-is-normal}
    Any subgroup of an abelian group is normal.
\end{proposition}
\begin{proof}
    Let $G$ be an abelian group and $H \leq G$. Let $g$ be in $G$ and $h$ be in $H$. Then
    \begin{align*}
        ghg^{-1} &= g(hg^{-1})\\
        &= g(g^{-1}h) & (G \text{ is abelian})\\
        &= (gg^{-1})h & (\text{associativity})\\
        &= eh\\
        &= h
    \end{align*}
    which is an element of $H$. Thus $ghg^{-1}$ is an element of $H$ for all $g$ in $G$ and $h$ in $H$, meaning $H \unlhd G$.
\end{proof}

\begin{definition}
    A proper subgroup $N$ of a group $G$ that is normal is called a \term{proper normal subgroup}\index{subgroup!normal!proper} of $G$, and we write $N \lhd G$.
\end{definition}

\begin{example}\label{example-normal-subgroups-of-d3}
    Let's find the normal subgroups of the dihedral group of order 6, $D_3$.

    Recall $D_3 = \{e, r, r^2, s, rs, r^2s\}$. Note that $|r| = 3$, $|s| = 2$, $\langle r \rangle = \{e, r, r^2\}$, and $\langle s \rangle = \{e, s\}$. We will show that $\langle r \rangle$ is a (proper) normal subgroup of $D_3$ but not $\langle s \rangle$. Note that since $r$ and $s$ are generators, we just need to check $s\langle r\rangle$, $\langle r\rangle s$, $r\langle s\rangle$, and $\langle s\rangle r$ to verify normality.

    For $\langle r \rangle$,
    \begin{itemize}
        \item $s\langle r\rangle = \{s, sr, sr^2\} = \{s, r^2s, rs\}$; and
        \item $\langle r\rangle s = \{s, rs, r^2s\}$,
    \end{itemize}
    so $s\langle r\rangle = \langle r \rangle s$ which means $\langle r \rangle \lhd D_3$.

    For $\langle s \rangle$,
    \begin{itemize}
        \item $r\langle s\rangle = \{r, rs\}$; and
        \item $\langle s \rangle r = \{r, sr\} = \{r, r^2s\}$,
    \end{itemize}
    and since $rs \neq r^2s$ thus $r\langle s\rangle \neq \langle s \rangle r$. Hence, $\langle s \rangle$ is not a normal subgroup of $D_3$.
\end{example}

\section{Quotient Groups}
We end this chapter by looking at a special (and useful) type of group: the quotient group. But before we can do that, we look at the idea of the set of left cosets.

\begin{definition}
    Let $G$ be a group and $H \leq G$. The \term{set of left cosets}\index{set!of left cosets} is denoted by
    \[
        G/H = \{gH \vert g \in G \},
    \]
    is read ``$G$ by $H$'', and has a cardinality of $[G:H] = \frac{|G|}{|H|}$ by Lagrange's Theorem (\myref{thrm-lagrange}).
\end{definition}
\begin{remark}
    We may sometimes write $G/H$ using fractions (i.e. $\frac GH$) if it serves to improve readability.
\end{remark}

\begin{theorem}\label{thrm-quotient-group-requirement}
    Let $G$ be a group and $N \unlhd G$. Then $G / N$ forms a group called the \term{quotient group}\index{quotient group} with group operation $\star$ where
    \[
        (xN) \star (yN) = (xy)N.
    \]
    In this case, $G / N$ is read ``$G$ mod $N$'' instead of ``$G$ by $N$''.
\end{theorem}
\begin{remark}
    As per usual, we suppress the operation $\star$ and just write $(xN)(yN) = (xy)N$.
\end{remark}
\begin{proof}
    Before we can prove that it forms a group, we need to show that $\star$ is well defined. This is because we worry that if $x_1N = x_2N$ and $y_1N = y_2N$ there may be a situation that $(x_1y_1)N \neq (x_2y_2)N$ under this operation. Thus we need to check if it is well defined before we can proceed.

    Suppose $x_1N = x_2N$ and $y_1N = y_2N$ where $x_1, x_2, y_1, y_2 \in G$. Then
    \begin{align*}
        (x_1N)(y_1N) &= (x_1y_1)N & (\text{by definition})\\
        &= x_1(y_1N) & (\text{left coset of } y_1N \text{ in } G \text{ by } x_1)\\
        &= x_1(y_2N) & (y_1N = y_2N)\\
        &= x_1(Ny_2) & (N \text{ is normal, so } y_2N=Ny_2)\\
        &= (x_1N)y_2 & (\text{right coset of } x_1N \text{ in } G \text{ by } y_2)\\
        &= (x_2N)y_2 & (x_1N = x_2N)\\
        &= x_2(Ny_2) & (\text{left coset of } Ny_2 \text{ in } G \text{ by } x_2)\\
        &= x_2(y_2N) & (N \text{ is normal, so } y_2N=Ny_2)\\
        &= (x_2y_2)N & (\text{left coset of } N \text{ in } G \text{ by } x_2y_2)\\
        &= (x_2N)(y_2N) & \text{(by definition)}
    \end{align*}
    so if $x_1N = x_2N$ and $y_1N = y_2N$ then we see that $(x_1N)(y_1N) = (x_2N)(y_2N)$, meaning that $\star$ is well defined.

    We can now show that $G/N$ under $\star$ satisfies the group axioms.
    \begin{itemize}
        \item \textbf{Closure}: Assume $xN, yN \in G/N$. Then $(xN)(yN) = (xy)N$. Since $xy$ is in $G$ thus $(xy)N$ is in $G/N$, meaning that $G/N$ is closed under $\star$.
        \item \textbf{Associativity}: Take $xN, yN, zN \in G/N$. Then
        \begin{align*}
            (xN)\left((yN)(zN)\right) &= (xN)\left((yz)N\right)\\
            &= (xyz)N\\
            &= \left((xy)z\right)N\\
            &= \left((xy)N\right)(zN)\\
            &= \left((xN)(yN)\right)(zN)
        \end{align*}
        so $\star$ is associative.
        \item \textbf{Identity}: Observe that $e$ is in $G$ so $eN = N$ is in $G / N$. Note that
        \[
        (eN)(xN) = (ex)N = xN \text{ and } (xN)(eN) = (xe)N = xN
        \]
        for any $x$ in $G$, so $eN = N$ is the identity in $G/N$.
        \item \textbf{Inverse}: Observe that for any $x$ in $G$, $x^{-1}$ is also in $G$, so
        \[
        (xN)(x^{-1}N) = (xx^{-1})N = eN = N
        \]
        and
        \[
        (x^{-1}N)(xN) = (x^{-1}x)N = eN = N,
        \]
        which means any $xN \in G/N$ has an inverse.
    \end{itemize}
    Since the four group axioms are satisfied, thus $G/N$ is a group under the operation $\star$.
\end{proof}

\begin{example}
    Let's look at possible quotient groups of the group $D_3$, which has the underlying set $\{e, r, r^2, s, rs, r^2s\}$. Recall from \myref{example-normal-subgroups-of-d3} that $\langle r \rangle \lhd D_3$. Thus $D_3 / \langle r \rangle$ is a quotient group, with $|D_3 / \langle r \rangle| = \frac{|D_3|}{|\langle r\rangle|} = \frac63 = 2$.

    Let's now look at the elements of $D_3 / \langle r \rangle$.
    \begin{align*}
        D_3 / \langle r \rangle  &= \{x\langle r \rangle \vert x \in D_3\}\\
        &= \left\{\{x, xr, xr^2\} \vert x \in D_3\right\}\\
        &= \{\{e, r, r^2\}, \{r, r^2, r^3\}, \{r^2, r^3, r^4\}, \\ &\quad\quad \{s, sr, sr^2\}, \{rs, rsr, rsr^2\}, \{r^2s, r^2sr, r^2sr^2\}\}\\
        &= \{\{e, r, r^2\}, \{r, r^2, e\}, \{r^2, e, r\}, \\ &\quad\quad \{s, sr, sr^2\}, \{sr^2, s, sr\}, \{sr, sr^2, s\}\}\\
        &= \left\{\{e, r, r^2\}, \{s, sr, sr^2\}\right\}\\
        &= \left\{\langle r\rangle, s\langle r \rangle\right\}
    \end{align*}
    Note also that $(s\langle r \rangle)^2 = s^2\langle r \rangle = \langle r\rangle$, so in fact $D_3 / \langle r \rangle$ has generator $s\langle r \rangle$, i.e. $D_3 / \langle r \rangle = \left\langle s\langle r \rangle \right\rangle$.
\end{example}

\begin{exercise}\label{exercise-quotient-group-of-cyclic-group-is-cyclic}
    Let $G$ be a cyclic group and $H \leq G$.
    \begin{partquestions}{\roman*}
        \item Explain why $G/H$ is a quotient group.
        \item Show that $G/H$ is cyclic.
    \end{partquestions}
\end{exercise}

\newpage

\section{Problems}
\begin{problem}
    Let $G = D_4$, the dihedral group of order 8. By considering the subgroup axioms, determine which of the following sets of, if any, are subgroups of $G$.
    \begin{partquestions}{\alph*}
        \item $\{e\}$
        \item $\{e, r, s\}$
        \item $\{r, r^2, r^3\}$
        \item $\{r, r^3, r^4, r^6\}$
    \end{partquestions}
\end{problem}

\begin{problem}
    Let $G$ be a group and $H \leq G$. Define the set
    \[
        K = \{x \in G \vert x^2 \in H\}.
    \]
    Prove the following statements.
    \begin{partquestions}{\alph*}
        \item $K \leq G$
        \item $H \leq K$
    \end{partquestions}
\end{problem}

\begin{problem}\label{problem-center-of-G}
    Let $G$ be a group.
    \begin{partquestions}{\alph*}
        \item Prove that $\CenterGrp{G}$ is a normal subgroup of $G$.
        \item Prove that $\CenterGrp{G} = G$ if and only if $G$ is abelian.
        \item Find the center of the group $D_4$.\newline
        (\textit{Note: you may assume $|\CenterGrp{G}| < \frac12 |G|$. The reason becomes apparent with \myref{problem-quotient-of-group-mod-center-is-cyclic-implies-abelian}'s solution.})
    \end{partquestions}
\end{problem}

\begin{problem}\label{problem-intersection-of-subgroups}
    Let $G$ be a group, and $H, K \leq G$. Prove or disprove the following statements.
    \begin{partquestions}{\alph*}
        \item $H \cap K \leq G$
        \item $H \cap K \leq H$
        \item $H \cup K \leq G$
        \item $H \cup K \leq H$
    \end{partquestions}
\end{problem}

\begin{problem}
    Let $G$ be a group of order 1024 and let $H$ be a proper subgroup of $G$. Determine the maximum order of $H$. Give an example of the groups $G$ and $H$ such that $H$ has this maximum order.
\end{problem}

\begin{problem}
    Let $G$ be a finite group with even order. Show that there exists an element with order 2 in $G$.
\end{problem}

\begin{problem}\label{problem-subgroup-of-cyclic-group-is-cyclic}
    Let $G$ be a cyclic group with generator $g$. Prove that any subgroup of $G$ must also be cyclic.\newline
    (\textit{Hint: Consider the solution for \myref{example-subgroups-of-Z}.})
\end{problem}

\newpage

\begin{problem}\label{problem-subgroup-of-index-2}
    Let $G$ be a finite group. Suppose $H < G$ such that the index of $H$ in $G$ is 2. Prove that
    \begin{partquestions}{\roman*}
        \item $H \lhd G$;
        \item $H$ contains the squares of all elements of $G$; and
        \item an element $x \in G$ is in $H$ if $x$ has odd order.
    \end{partquestions}
\end{problem}

\begin{problem}\label{problem-intersection-of-coprime-subgroups}
    Let $G$ be a finite group, $H \leq G$, and $K \leq G$. Suppose the order of $H$ and the order of $K$ are coprime.
    \begin{partquestions}{\alph*}
        \item Show that the intersection of the groups $H$ and $K$ contains only the identity.
        \item Show that, if $H$ and $K$ are normal subgroups of $G$, then for any $h \in H$ and $k \in K$ we have $hk = kh$.
    \end{partquestions}
\end{problem}

\begin{problem}\label{problem-smallest-nonabelian-group}
    Let $G$ be a finite group with order $m$.
    \begin{partquestions}{\alph*}
        \item State the smallest value of $m$ such that $G$ is non-abelian.
        \item Prove that the value of $m$ found in \textbf{(a)} is the smallest value that allows $G$ to be non-abelian.
        \item Hence prove that for all even integers $n \geq m$, there exists a non-abelian group of order $n$.
    \end{partquestions}
\end{problem}

\begin{problem}\label{problem-quotient-of-group-mod-center-is-cyclic-implies-abelian}
    Let $G$ be a group, and suppose $G / \CenterGrp{G}$ is cyclic. Prove that $G$ is abelian.
\end{problem}
